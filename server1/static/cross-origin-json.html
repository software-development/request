<html>
  <head>
    <script src="/static/jquery.js"></script>
    <script src="/static/underscore.js"></script>
  </head>
  <body>
    <h1>Cross origin JSON(P)</h1>
    <div id="images"></div>

    <script>
      /*
       * Display the list of images
       */
      var DisplayImages = function(data) {
        var table    = $("#images").append("<table>");
        var images   = $("<tr>").appendTo(table);
          var captions = $("<tr>").appendTo(table);

        _.each(data, function(image) {
          images.append($("<td><img src='" + image.url + "' /></td>"));
          captions.append("<td>" + image.name + "</td>");
        });
      };

      var Oops = function() {
        $("#images").html("Error!");
      };

      // EXERCISE:
      //  How do you modify this request to use JSONP?
      $.ajax("http://localhost:9999/jsonp", {
        success: DisplayImages,
        error: Oops,
      });
    </script>
  </body>
</html>
